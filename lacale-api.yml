---
id: lacale-api
name: La Cale (API)
description: 'La Cale is a French Private Tracker for Movies, TV, Music, Games, Software, Ebooks and XXX'
language: fr-FR
type: private
encoding: UTF-8
# Cloudflare may be enabled, FlareSolverr might be required
requestDelay: 2

links:
  - https://la-cale.space

caps:
  categorymappings:
    # ═══════════════════════════════════════════════════════════════════════════
    # VIDÉO (parent: Vidéo)
    # ═══════════════════════════════════════════════════════════════════════════
    - { id: 'Films', cat: Movies, desc: 'Films' }
    - { id: 'Animation', cat: Movies, desc: 'Animation' }
    - { id: 'Séries TV', cat: TV, desc: 'Séries TV' }
    - { id: 'Séries HD', cat: TV/HD, desc: 'Séries HD' }
    - { id: 'Spectacles', cat: TV/Other, desc: 'Spectacles' }

    # ═══════════════════════════════════════════════════════════════════════════
    # AUDIO (parent: Audio)
    # ═══════════════════════════════════════════════════════════════════════════
    - { id: 'Musique', cat: Audio, desc: 'Musique' }
    - { id: 'FLAC', cat: Audio/Lossless, desc: 'FLAC' }
    - { id: 'MP3', cat: Audio/MP3, desc: 'MP3' }
    - { id: 'M4A', cat: Audio/Other, desc: 'M4A' }
    - { id: 'Audio divers', cat: Audio/Other, desc: 'Audio divers' }

    # ═══════════════════════════════════════════════════════════════════════════
    # JEUX (parent: Jeux)
    # ═══════════════════════════════════════════════════════════════════════════
    - { id: 'PC', cat: PC/Games, desc: 'Jeux PC' }
    - { id: 'Consoles', cat: Console, desc: 'Consoles' }
    - { id: 'Jeux mobiles', cat: PC/Mobile-Other, desc: 'Jeux mobiles' }

    # ═══════════════════════════════════════════════════════════════════════════
    # APPLICATIONS (parent: Applications)
    # ═══════════════════════════════════════════════════════════════════════════
    - { id: 'Logiciels', cat: PC/0day, desc: 'Logiciels' }
    - { id: 'Linux', cat: PC/0day, desc: 'Linux' }
    - { id: 'Systèmes', cat: PC/ISO, desc: 'Systèmes' }

    # ═══════════════════════════════════════════════════════════════════════════
    # E-BOOKS (parent: E-books)
    # ═══════════════════════════════════════════════════════════════════════════
    - { id: 'Romans', cat: Books/EBook, desc: 'Romans' }
    - { id: 'BD', cat: Books/Comics, desc: 'BD' }
    - { id: 'Documentaires', cat: Books/Technical, desc: 'Documentaires' }

    # ═══════════════════════════════════════════════════════════════════════════
    # E-BOOKS & DOCUMENTS (parent: E-books & Documents)
    # ═══════════════════════════════════════════════════════════════════════════
    - { id: 'Livres', cat: Books/EBook, desc: 'Livres' }
    - { id: 'Presse', cat: Books/Magazines, desc: 'Presse' }
    - { id: 'Éducation', cat: Books/Technical, desc: 'Éducation' }

    # ═══════════════════════════════════════════════════════════════════════════
    # AUTRES (parent: Autres)
    # ═══════════════════════════════════════════════════════════════════════════
    - { id: 'Divers', cat: Other/Misc, desc: 'Divers' }

  modes:
    search: [q]
    tv-search: [q]
    movie-search: [q]
    music-search: [q]
    book-search: [q]

settings:
  - name: passkey
    type: password
    label: Passkey
    default: ''

  - name: info_passkey
    type: info
    label: Où trouver votre passkey
    default: >-
      Rendez-vous sur votre
      <a href="https://la-cale.space/profile" target="_blank" rel="noopener">page profil La Cale</a>
      pour récupérer votre passkey. <strong>Ne la partagez jamais !</strong>

  - name: info_magnet
    type: info
    label: Magnet Links
    default: "This indexer supports both .torrent files and magnet links. Enable 'Prefer Magnet URL' in Prowlarr settings to use magnets (avoids 401 errors). ⚠️ Magnet links do NOT work for cross-seeding!"

  - name: info_flaresolverr
    type: info
    label: Cloudflare Protection
    default: 'This site may use Cloudflare protection. If you experience issues, configure <a href="https://github.com/FlareSolverr/FlareSolverr" target="_blank">FlareSolverr</a> or <a href="https://github.com/ThePhaseless/Byparr" target="_blank">Byparr</a> in Prowlarr settings.'

  - name: info_ratio
    type: info
    label: Ratio Requirements
    default: 'Minimum ratio: 1.0 | Minimum seed time: 72 hours | Currently: Global Freeleech + Double Upload active!'

  - name: info_updates
    type: info
    label: Updates
    default: 'This is a custom indexer that requires manual updates. Get the latest version at <a href="https://github.com/JigSawFr/lacale-prowlarr-indexer" target="_blank">github.com/JigSawFr/lacale-prowlarr-indexer</a>'

login:
  path: api/external
  method: get
  inputs:
    passkey: '{{ .Config.passkey }}'
    q: test
  test:
    path: api/external
    inputs:
      passkey: '{{ .Config.passkey }}'
      q: test

search:
  paths:
    - path: api/external
      response:
        type: json

  inputs:
    passkey: '{{ .Config.passkey }}'
    q: '{{ .Keywords }}'
    # API accepts single category slug (e.g., films, series, music)
    # Note: API returns max 50 results, sorted by date descending
    cat: '{{ range .Categories }}{{.}}{{end}}'

  keywordsfilters:
    - name: trim
    - name: re_replace
      args: ['[\s]+', ' ']

  rows:
    selector: $
    missingAttributeEqualsNoResults: true

  fields:
    _id:
      selector: guid
    category:
      selector: category

    title:
      selector: title

    guid:
      selector: guid

    download:
      selector: link

    magneturl:
      # Magnet link with tracker announce URL (used when "Prefer Magnet URL" is enabled)
      # Note: Magnet links do NOT work for cross-seeding!
      text: 'magnet:?xt=urn:btih:{{ .Result.infohash }}&tr=https%3A%2F%2Ftracker.la-cale.space%2Fannounce%3Fpasskey%3D{{ .Config.passkey }}'

    size:
      selector: size

    seeders:
      selector: seeders

    leechers:
      selector: leechers

    date:
      selector: pubDate
      filters:
        - name: dateparse
          args: '2006-01-02T15:04:05.000Z'

    infohash:
      selector: infoHash

    downloadvolumefactor:
      text: 1

    uploadvolumefactor:
      text: 1

    minimumratio:
      text: 1.0

    minimumseedtime:
      text: 259200
